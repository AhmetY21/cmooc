<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stemming vs. Lemmatization: When to use which?</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      max-width: 900px;
      margin: 0 auto;
      padding: 24px;
      color: #111827;
      background: #ffffff;
    }
    h1, h2, h3 { color: #111827; }
    a { color: #2563eb; text-decoration: none; }
    a:hover { text-decoration: underline; }
    code { background-color: #f3f4f6; padding: 2px 6px; border-radius: 6px; }
    pre { background-color: #0b1020; color: #e5e7eb; padding: 16px; border-radius: 10px; overflow-x: auto; }
    pre code { background: transparent; padding: 0; }
    blockquote { border-left: 4px solid #e5e7eb; margin: 0; padding-left: 16px; color: #4b5563; }
    table { width: 100%; border-collapse: collapse; margin: 16px 0; }
    th, td { border: 1px solid #e5e7eb; padding: 8px; text-align: left; }
    th { background: #f9fafb; }
    hr { border: none; border-top: 1px solid #e5e7eb; margin: 24px 0; }
  </style>
</head>
<body>
<h1 id="topic-stemming-vs-lemmatization-when-to-use-which">Topic: Stemming vs. Lemmatization: When to use which?</h1>
<h2 id="1-formal-definition-what-is-it-and-how-can-we-use-it">1) Formal definition (what is it, and how can we use it?)</h2>
<p><strong>Stemming:</strong></p>
<p>Stemming is a text normalization technique that reduces words to their root form by chopping off prefixes and suffixes. It's a heuristic process that aims to group together words with similar meanings, even if the resulting stem isn't a valid dictionary word. The primary goal is to reduce vocabulary size and improve the effectiveness of information retrieval and text analysis. Stemming algorithms operate based on rules, often iteratively removing known prefixes and suffixes.</p>
<p><strong>How we use it:</strong> Stemming is used to simplify words, allowing us to treat variations of a word (e.g., "running," "runs," "run") as the same entity. This improves recall in search engines (finding more relevant documents) and reduces dimensionality in machine learning models by reducing the number of unique words.</p>
<p><strong>Lemmatization:</strong></p>
<p>Lemmatization, unlike stemming, aims to find the <em>lemma</em> or dictionary form of a word. The lemma represents the base or canonical form of a word as it would appear in a dictionary. This process uses a vocabulary and morphological analysis to achieve the correct form, considering the word's context and part of speech (POS). It transforms words to their meaningful root form.</p>
<p><strong>How we use it:</strong> Lemmatization is used when it's important to preserve the meaning and readability of the text. It's beneficial when you need the "real" root form of the word and want to avoid creating meaningless stems. Like stemming, it reduces vocabulary size, but with more attention to correctness and meaningfulness.</p>
<p><strong>Key Differences Summary:</strong></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Stemming</th>
<th>Lemmatization</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td>Rule-based, heuristic chopping</td>
<td>Vocabulary &amp; morphological analysis</td>
</tr>
<tr>
<td>Output</td>
<td>Might not be a valid word</td>
<td>Always a valid dictionary word (lemma)</td>
</tr>
<tr>
<td>Complexity</td>
<td>Simpler, faster</td>
<td>More complex, slower</td>
</tr>
<tr>
<td>Accuracy</td>
<td>Lower, potential for over-stemming</td>
<td>Higher, more accurate root form identification</td>
</tr>
<tr>
<td>Meaning</td>
<td>Meaning not always preserved</td>
<td>Meaning preserved</td>
</tr>
</tbody>
</table>
<h2 id="2-application-scenario">2) Application scenario</h2>
<p><strong>When to use Stemming:</strong></p>
<ul>
<li><strong>Information Retrieval (Search Engines):</strong> When recall is more important than precision. You want to find as many relevant documents as possible, even if some are slightly off-topic. The speed of stemming is also advantageous here.</li>
<li><strong>Text Categorization/Classification (Especially with high dimensionality):</strong> When you need to reduce the feature space significantly. The slightly lower accuracy is acceptable for the gains in speed and dimensionality reduction.</li>
<li><strong>Sentiment Analysis (Sometimes):</strong> Can be useful as a preprocessing step, especially when combined with other techniques. However, lemmatization might be preferred if precise word meanings are crucial.</li>
</ul>
<p><strong>When to use Lemmatization:</strong></p>
<ul>
<li><strong>Question Answering:</strong> When understanding the exact meaning of the question and answer is critical.</li>
<li><strong>Text Summarization:</strong> When maintaining readability and coherence is vital for the summary.</li>
<li><strong>Machine Translation:</strong> When translating between languages, it is crucial to understand the grammatical structure and meaning of words.</li>
<li><strong>Chatbots/Conversational AI:</strong> When ensuring the chatbot understands the intent of the user correctly.</li>
<li><strong>Sentiment Analysis (If High Accuracy Required):</strong> When subtle differences in word meanings can significantly impact sentiment (e.g., "good" vs. "well").</li>
</ul>
<p><strong>Example demonstrating the difference:</strong></p>
<p>Consider the words "better" and "good".</p>
<ul>
<li><strong>Stemming:</strong> Might reduce "better" to something like "bett", which is not a valid word and doesn't necessarily link it to "good".</li>
<li><strong>Lemmatization:</strong> Would correctly reduce "better" to "good".</li>
</ul>
<h2 id="3-python-method-if-possible">3) Python method (if possible)</h2>
<pre class="codehilite"><code class="language-python">import nltk
from nltk.stem import PorterStemmer, WordNetLemmatizer
from nltk.corpus import wordnet

nltk.download('punkt')
nltk.download('wordnet')
nltk.download('averaged_perceptron_tagger') # Required for POS tagging in lemmatization

# Stemming
stemmer = PorterStemmer()
words = [&quot;running&quot;, &quot;runs&quot;, &quot;run&quot;, &quot;easily&quot;, &quot;caring&quot;, &quot;better&quot;]
stemmed_words = [stemmer.stem(word) for word in words]
print(&quot;Stemmed words:&quot;, stemmed_words)

# Lemmatization
lemmatizer = WordNetLemmatizer()

# Function to convert nltk tag to wordnet tag
def get_wordnet_pos(treebank_tag):
    if treebank_tag.startswith('J'):
        return wordnet.ADJ
    elif treebank_tag.startswith('V'):
        return wordnet.VERB
    elif treebank_tag.startswith('N'):
        return wordnet.NOUN
    elif treebank_tag.startswith('R'):
        return wordnet.ADV
    else:
        return wordnet.NOUN # Default to noun if unknown

# Lemmatization with POS tagging
lemmatized_words = []
for word in words:
    pos_tag = nltk.pos_tag([word])[0][1]  # Get POS tag
    wordnet_tag = get_wordnet_pos(pos_tag)  # Convert to WordNet tag
    lemmatized_words.append(lemmatizer.lemmatize(word, pos=wordnet_tag)) # Lemmatize with POS
print(&quot;Lemmatized words:&quot;, lemmatized_words)

# Lemmatization without POS (defaults to noun)
lemmatized_words_no_pos = [lemmatizer.lemmatize(word) for word in words]
print(&quot;Lemmatized words (no POS):&quot;, lemmatized_words_no_pos)

#Example with a sentence, demonstrating the usage in context
sentence = &quot;The cats were running across the field.&quot;
tokens = nltk.word_tokenize(sentence)
pos_tags = nltk.pos_tag(tokens)
lemmatized_sentence = &quot; &quot;.join([lemmatizer.lemmatize(token, pos=get_wordnet_pos(tag)) for token, tag in pos_tags])
print(&quot;Lemmatized sentence:&quot;, lemmatized_sentence)
</code></pre>

<p><strong>Explanation:</strong></p>
<ol>
<li><strong>Stemming (PorterStemmer):</strong> The <code>PorterStemmer</code> from <code>nltk.stem</code> is used.  It applies a series of rules to chop off suffixes. Note the results (e.g., 'run' becomes 'runn', 'easily' becomes 'easili').</li>
<li><strong>Lemmatization (WordNetLemmatizer):</strong> The <code>WordNetLemmatizer</code> from <code>nltk.stem</code> is used.</li>
<li><strong>POS Tagging:</strong> Crucially, lemmatization benefits significantly from Part-of-Speech (POS) tagging. The example shows how to tag words using <code>nltk.pos_tag</code> and how to map these tags to WordNet's POS tags. Lemmatizing with the correct POS tag gives much better results.  <code>get_wordnet_pos</code> converts NLTK's POS tags to WordNet POS tags.</li>
<li><strong>Lemmatization without POS:</strong>  If no POS tag is provided to <code>lemmatize()</code>, it defaults to treating the word as a noun, which may not always be correct (e.g., "running" becomes "running" when treated as a noun, instead of "run" if treated as a verb).</li>
<li><strong>Sentence Example:</strong> Demonstrates the correct usage of lemmatization in a full sentence by combining the tokenization, pos tagging, and lemmatization.</li>
</ol>
<h2 id="4-follow-up-question">4) Follow-up question</h2>
<p>How do more advanced techniques like Transformers (e.g., BERT, RoBERTa) handle word variations (morphological differences like tense, number, etc.) compared to traditional stemming and lemmatization? Do these models eliminate the need for explicit stemming/lemmatization as a preprocessing step, or can it still be beneficial? What are the trade-offs?</p>
</body>
</html>
